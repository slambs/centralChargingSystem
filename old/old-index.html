<!DOCTYPE html>
<html lang="en">

<head>

    <title>plug.Control</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>

<body>

    <nav class="navbar navbar-default">
        <div class="container-fluid">

            <div class="navbar-header">

                <a class="navbar-brand" href="#">Plug.Control</a>
            </div>
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>

                <li><a href="#">Logs</a></li>
                <li><a href="#">Whitelist</a></li>

            </ul>
        </div>
    </nav>

    <h2>
        <img src="imgPlug.png" alt="Avatar" class="avatar">
        plug.Control
        <img src="imgPlug.png" alt="Avatar" class="avatar">
    </h2>

    <div class="container-fluid">
        <h2>Actions</h2>
    </div>
    <div class="message">
        <br>

        <br>
        <button name="reset" id="resetSend">Reset Charging Station</button>

        <button name="start" id="startSend">Start Transaction</button>

        <button name="stop" id="stopSend">Stop Transaction</button>


    </div>

    <script>
        var wsUri = "ws://192.168.0.23:9016/";
        var output;
        var count = 1;
        websocket = new WebSocket(wsUri);

        var inputText = document.getElementById("msgInput");
        var Resetbutton = document.getElementById("resetSend");
        var SendButton = document.getElementById("startSend");
        var StopButton = document.getElementById("stopSend");

        Resetbutton.addEventListener("click", function () {
            websocket.send('[ 2, "1", "Reset", { "type": "Hard" } ]');
            console.log("Reset Send to WS");
        });

        SendButton.addEventListener("click", function () {
            websocket.send('[ 2, "1", "RemoteStartTransactionRequest", { "idTag": "00000000" } ]');
            console.log("Start TransactionSend to WS");
        });

        StopButton.addEventListener("click", function () {
            websocket.send('[ 2, "1", "RemoteStopTransactionRequest", { "transactionId": "1" } ]');
            console.log("Stop TransactionSend to WS");
        });

    </script>
</body>

</html>